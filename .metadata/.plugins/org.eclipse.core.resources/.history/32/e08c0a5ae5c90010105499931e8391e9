package in.banking.aap.entity;

import java.time.LocalDateTime;
import java.util.List;

import org.hibernate.annotations.CreationTimestamp;
import org.hibernate.annotations.UpdateTimestamp;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.ManyToOne;
import jakarta.persistence.OneToMany;
 
import jakarta.persistence.Table;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Entity
@Getter
@Setter
@Data
@AllArgsConstructor
@NoArgsConstructor
@Table(name="Account_dtls")
@Builder
public class Account {

	@Id
	@GeneratedValue(strategy = GenerationType.UUID)
	@Column(name ="account_id")
	private String accountId;
	
	@Column(name ="balance")
	private double balance;
	
	@Column(name ="account_name")
	private String accountname;
	
	@Column(name ="account_number",unique = true,nullable = false)
	private long accountnumber;
	
	@Column(name ="currency") 
	private String currency;
	
	@Column(name ="code")
	private String code;
	
	@Column(name ="label")
	private String label;
	
	@Column(name ="symbol")
	private char symbol;
	
	@UpdateTimestamp
	@Column(name ="update_date")
	private LocalDateTime updatedAt;
	
	@CreationTimestamp
	@Column(name ="create_date")
	private LocalDateTime createdAt;
	
	@ManyToOne
	@JoinColumn(name ="owner_id")
	private User owner;
	
	@OneToMany(mappedBy = "account",cascade = CascadeType.ALL,fetch = FetchType.LAZY)
	private List<Transaction> transaction;

	public String getAccountId() {
		return accountId;
	}

	public void setAccountId(String accountId) {
		this.accountId = accountId;
	}

	public double getBalance() {
		return balance;
	}

	public void setBalance(double balance) {
		this.balance = balance;
	}

	public String getAccountname() {
		return accountname;
	}

	public void setAccountname(String accountname) {
		this.accountname = accountname;
	}

	public long getAccountnumber() {
		return accountnumber;
	}

	public void setAccountnumber(long accountnumber) {
		this.accountnumber = accountnumber;
	}

	public String getCurrency() {
		return currency;
	}

	public void setCurrency(String currency) {
		this.currency = currency;
	}

	public String getCode() {
		return code;
	}

	public void setCode(String code) {
		this.code = code;
	}

	public String getLabel() {
		return label;
	}

	public void setLabel(String label) {
		this.label = label;
	}

	public char getSymbol() {
		return symbol;
	}

	public void setSymbol(char symbol) {
		this.symbol = symbol;
	}

	public LocalDateTime getUpdatedAt() {
		return updatedAt;
	}

	public void setUpdatedAt(LocalDateTime updatedAt) {
		this.updatedAt = updatedAt;
	}

	public LocalDateTime getCreatedAt() {
		return createdAt;
	}

	public void setCreatedAt(LocalDateTime createdAt) {
		this.createdAt = createdAt;
	}

	public User getOwner() {
		return owner;
	}

	public void setOwner(User owner) {
		this.owner = owner;
	}

	public List<Transaction> getTransaction() {
		return transaction;
	}

	public void setTransaction(List<Transaction> transaction) {
		this.transaction = transaction;
	}
	
	 public static class Builder {
	        private double balance;
	        private String accountname;
	        private long accountnumber;
	        private String currency;
	        private String code;
	        private String label;
	        private char symbol;
	        private User owner;

	        public Builder balance(double balance){ this.balance = balance; return this; }
	        public Builder accountname(String accountname){ this.accountname = accountname; return this; }
	        public Builder accountnumber(long accountnumber){ this.accountnumber = accountnumber; return this; }
	        public Builder currency(String currency){ this.currency = currency; return this; }
	        public Builder code(String code){ this.code = code; return this; }
	        public Builder label(String label){ this.label = label; return this; }
	        public Builder symbol(char symbol){ this.symbol = symbol; return this; }
	        public Builder owner(User owner){ this.owner = owner; return this; }

	        public Account build() {
	            Account acc = new Account();
	            acc.balance = this.balance;
	            acc.accountname = this.accountname;
	            acc.accountnumber = this.accountnumber;
	            acc.currency = this.currency;
	            acc.code = this.code;
	            acc.label = this.label;
	            acc.symbol = this.symbol;
	            acc.owner = this.owner;
	            return acc;
	        }

	    public static Builder builder() { return new Builder(); }

	 }
}
